<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SteamDL</title>
<style>
/* Reset & Base */
* { margin:0; padding:0; box-sizing:border-box; }
html, body { width:100%; height:100%; font-family:Arial, sans-serif; overflow:hidden; cursor:none; color:#fff; background-color:#000; }

/* RTX Glowing Border */
body::before {
  content:"";
  position:fixed;
  inset:0;
  border:6px solid transparent;
  border-radius:16px;
  pointer-events:none;
  z-index:100;
  border-image:linear-gradient(45deg,#66ccff,#00bfff,#0066cc,#66ccff);
  border-image-slice:1;
  animation:borderGlow 6s linear infinite;
  filter: drop-shadow(0 0 20px #00bfff80) drop-shadow(0 0 40px #3399ff99) drop-shadow(0 0 60px #66ccff50);
}
@keyframes borderGlow {0%,100%{border-image-source:linear-gradient(45deg,#66ccff,#00bfff,#0066cc,#66ccff);}50%{border-image-source:linear-gradient(225deg,#0066cc,#3399ff,#66ccff,#0066cc);}}

/* Top Bar */
.top-bar {
  position:fixed; top:24px; left:50%; transform:translateX(-50%);
  width:95%; max-width:1200px; height:60px;
  background: rgba(255,255,255,0.05); backdrop-filter: blur(20px) saturate(180%);
  border:1px solid rgba(255,255,255,0.2); border-radius:16px;
  display:flex; justify-content:space-between; align-items:center;
  padding:0 1.5rem; box-shadow:0 0 15px rgba(0,102,255,0.3),0 0 30px rgba(0,191,255,0.3);
  z-index:500; animation:liquidShift 8s ease-in-out infinite alternate;
}

/* Gradient Text */
.gradient-text {
  font-weight:bold; background:linear-gradient(90deg,#66ccff,#00bfff,#0066cc,#66ccff);
  background-size:300% 300%; -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  animation:blueGradient 6s linear infinite;
  text-shadow:0 0 5px #fff,0 0 10px #3399ff,0 0 20px #00bfff,0 0 40px #0066cc;
}
@keyframes blueGradient {0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

/* Top bar nav links */
.top-bar .logo{font-size:1.5rem;}
.top-bar .nav a{
  color:#fff; text-decoration:none; margin-left:1rem; font-weight:bold;
  padding:0.4rem 0.8rem; border-radius:12px; transition:0.3s; backdrop-filter:blur(15px);
}
.top-bar .nav a:hover {background:rgba(255,255,255,0.1); box-shadow:0 0 20px #3399ff,0 0 30px #00bfff,0 0 40px #66ccff; transform:scale(1.05);}

/* Main Container */
.container{
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  width:90%; max-width:900px;
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  text-align:center; padding:3rem; border-radius:32px;
  background: rgba(255,255,255,0.05); backdrop-filter:blur(20px) saturate(180%);
  border:1px solid rgba(255,255,255,0.2);
  box-shadow:0 0 20px rgba(0,102,255,0.3),0 0 40px rgba(0,191,255,0.2);
  animation:liquidShift 8s ease-in-out infinite alternate;
}
@keyframes liquidShift{0%{border-radius:28px 32px 36px 32px}50%{border-radius:36px 28px 32px 40px}100%{border-radius:32px 36px 28px 32px}}
h1{font-size:3rem;margin-bottom:1.5rem;}
p{
  font-size:1.2rem; line-height:1.6rem; padding:1rem 1.5rem;
  border-radius:24px; border:1px solid rgba(255,255,255,0.2);
  backdrop-filter: blur(15px) saturate(180%); background: rgba(255,255,255,0.05);
  text-shadow:0 0 5px rgba(255,255,255,0.5); margin-bottom:2rem;
  animation:liquidShiftText 10s ease-in-out infinite alternate;
}
@keyframes liquidShiftText{0%{border-radius:20px 24px 28px 24px}50%{border-radius:28px 20px 24px 32px}100%{border-radius:24px 28px 20px 24px}}

/* Buttons */
.buttons{display:flex; gap:1rem; flex-wrap:wrap; justify-content:center;}
.buttons a{
  display:inline-block; padding:0.75rem 2rem; border-radius:24px;
  background: rgba(255,255,255,0.05); backdrop-filter: blur(12px) saturate(180%);
  border:1px solid rgba(255,255,255,0.3); color:#fff; font-weight:bold; text-decoration:none;
  font-size:1.1rem; overflow:hidden; transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
}
.buttons a:hover{transform:scale(1.08); background:rgba(255,255,255,0.1); box-shadow:0 0 30px #66ccff,0 0 50px #00bfff,0 0 70px #3399ff;}

/* Tabs */
.tabs{display:flex; justify-content:center; gap:1rem; margin-bottom:1.5rem;}
.tab-button{
  padding:0.5rem 1.5rem; border-radius:24px; border:1px solid rgba(255,255,255,0.3);
  background: rgba(255,255,255,0.05); color:#fff; font-weight:bold; cursor:pointer; transition:0.3s;
}
.tab-button:hover{background: rgba(255,255,255,0.1); box-shadow:0 0 20px #66ccff,0 0 30px #00bfff,0 0 40px #3399ff; transform:scale(1.05);}
.tab-button.active{background: rgba(255,255,255,0.15); box-shadow:0 0 30px #66ccff,0 0 50px #00bfff,0 0 70px #3399ff;}

.tab-content{display:flex; flex-direction:column; align-items:center; gap:1rem; width:100%;}
.tab-input{
  padding:0.75rem 1.5rem; border-radius:24px; border:1px solid rgba(255,255,255,0.3);
  backdrop-filter:blur(15px); background: rgba(255,255,255,0.05);
  color:#fff; width:80%; max-width:400px; font-size:1rem; outline:none;
}
#game-results,#dlc-results{max-height:300px; overflow-y:auto; width:80%; text-align:left; margin-top:1rem;}

/* Clickable items */
#game-results a,#dlc-results a{
  display:block; padding:0.5rem; color:#00bfff; text-decoration:none;
  border-bottom:1px solid rgba(255,255,255,0.2); transition:0.3s;
}
#game-results a:hover,#dlc-results a:hover{color:#66ccff; text-shadow:0 0 5px #00bfff;}

/* Cursor Bloom */
#cursor-bloom{
  position:fixed; width:28px; height:28px; border-radius:50%; pointer-events:none;
  transform:translate(-50%,-50%); background: radial-gradient(circle, rgba(200,255,255,0.9), rgba(0,191,255,0.3), transparent 70%);
  box-shadow:0 0 20px #66ccff,0 0 40px #00bfff,0 0 80px #3399ff; mix-blend-mode:screen;
  transition:width 0.2s ease,height 0.2s ease,opacity 0.3s ease; z-index:2000;
}
@media(max-height:700px){.container{position:relative;top:auto;left:auto;transform:none;margin:auto;}}
</style>
</head>
<body>

<!-- Background Audio -->
<audio id="bg-audio" loop>
  <source src="src/music.mp3" type="audio/mpeg">
</audio>

<div class="top-bar">
  <div class="logo gradient-text">SteamDL</div>
  <div class="nav">
    <a href="#">Discord</a>
  </div>
</div>

<div class="container">
  <!-- Tabs -->
  <div class="tabs">
    <button class="tab-button active" onclick="switchTab('download')">Download</button>
    <button class="tab-button" onclick="switchTab('game')">Search Game</button>
    <button class="tab-button" onclick="switchTab('dlc')">Search DLC</button>
    <button class="tab-button" onclick="switchTab('stats')">Stats</button>
  </div>

  <!-- Tab Contents -->
  <div class="tab-content" id="download">
    <p>Manage and search games or DLC easily.<br>100% Safe.</p>
    <div class="buttons">
      <a href="#">Download SteamDL App</a>
      <a href="https://www.virustotal.com/gui/file/2a411cffd719039bdbf646534e45cc0e51fb45007fdbbadc3c8e7042c5ae0c68">VirusTotal Scan</a>
    </div>
  </div>

  <div class="tab-content" id="game" style="display:none;">
    <input type="text" placeholder="Enter game name..." class="tab-input" id="game-search">
    <div class="buttons">
      <a href="#" id="search-game-btn">Search Game</a>
    </div>
    <div id="game-results"></div>
  </div>

  <div class="tab-content" id="dlc" style="display:none;">
    <input type="text" placeholder="Enter DLC name..." class="tab-input" id="dlc-search">
    <div class="buttons">
      <a href="#" id="search-dlc-btn">Search DLC</a>
    </div>
    <div id="dlc-results"></div>
  </div>

  <div class="tab-content" id="stats" style="display:none; flex-direction:column; align-items:center;">
    <p>Number of games and DLCs in DB</p>
    <canvas id="stats-chart" width="400" height="200"></canvas>
  </div>
</div>

<div id="cursor-bloom"></div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// Cursor bloom
const cursor = document.getElementById('cursor-bloom');
let mouse={x:0,y:0},bloom={x:0,y:0},targetSize=28;
document.addEventListener('mousemove',e=>{mouse.x=e.clientX;mouse.y=e.clientY;});
document.addEventListener('mousedown',()=>targetSize=40);
document.addEventListener('mouseup',()=>targetSize=28);
function animateBloom(){bloom.x+=(mouse.x-bloom.x)*0.15;bloom.y+=(mouse.y-bloom.y)*0.15;
cursor.style.left=bloom.x+'px'; cursor.style.top=bloom.y+'px';
const currentSize=parseFloat(cursor.style.width)||28;
const newSize=currentSize+(targetSize-currentSize)*0.2;
cursor.style.width=cursor.style.height=newSize+'px';
requestAnimationFrame(animateBloom);}
animateBloom();

// Play audio only after first click
const bgAudio = document.getElementById('bg-audio');
let audioPlayed = false;
document.addEventListener('click', () => {
  if (!audioPlayed) {
    bgAudio.play().catch(err => console.log('Audio play failed:', err));
    audioPlayed = true;
  }
}, { once: true });

// Tab switching
function switchTab(tabId){
  document.querySelectorAll('.tab-content').forEach(t=>t.style.display='none');
  document.getElementById(tabId).style.display='flex';
  document.querySelectorAll('.tab-button').forEach(b=>b.classList.remove('active'));
  document.querySelector(`.tab-button[onclick="switchTab('${tabId}')"]`).classList.add('active');
  if(tabId==='stats') updateStatsChart();
}

// Fetch game list
let gameList=[], dlcList=[];
fetch('https://raw.githubusercontent.com/TMatheo/SteamDL/refs/heads/main/STDL.txt')
.then(r=>r.text()).then(data=>{
  gameList=data.split('\n').map(l=>l.trim()).filter(l=>l.length>0);
  displayGames(gameList,'game-results');
}).catch(console.error);

fetch('https://raw.githubusercontent.com/TMatheo/SteamDL/refs/heads/main/STDLC')
.then(r=>r.text()).then(data=>{
  dlcList=data.split('\n').map(l=>l.trim()).filter(l=>l.length>0);
  displayGames(dlcList,'dlc-results');
}).catch(console.error);

// Display clickable items
function displayGames(list, containerId){
  const container = document.getElementById(containerId);
  container.innerHTML = '';
  list.forEach(item => {
    const a = document.createElement('a');
    const parts = item.split(':');
    const gameName = parts[0].trim();
    const gameId = parts[1] ? parts[1].trim() : null;
    a.textContent = gameName;
    a.href = `https://codeload.github.com/SteamAutoCracks/ManifestHub/zip/refs/heads/${gameId}`;
    container.appendChild(a);
  });
}

// Search buttons
document.getElementById('search-game-btn').addEventListener('click', e=>{
  e.preventDefault();
  const query=document.getElementById('game-search').value.toLowerCase();
  displayGames(gameList.filter(g=>g.toLowerCase().includes(query)),'game-results');
});
document.getElementById('search-dlc-btn').addEventListener('click', e=>{
  e.preventDefault();
  const query=document.getElementById('dlc-search').value.toLowerCase();
  displayGames(dlcList.filter(d=>d.toLowerCase().includes(query)),'dlc-results');
});

// Stats chart
function updateStatsChart() {
  const ctx = document.getElementById('stats-chart').getContext('2d');
  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Games', 'DLCs'],
      datasets: [{
        label: 'Count',
        data: [gameList.length, dlcList.length],
        backgroundColor: ['rgba(0,191,255,0.4)', 'rgba(102,204,255,0.4)'],
        borderColor: ['#00bfff', '#66ccff'],
        borderWidth: 2
      }]
    },
    options: {
      responsive: true,
      plugins: { legend: { display: false }, tooltip: { enabled: true } },
      scales: {
        y: { beginAtZero: true, grid: { color: 'rgba(255,255,255,0.1)' } },
        x: { grid: { color: 'rgba(255,255,255,0.1)' } }
      }
    }
  });
}
</script>

</body>
</html>
